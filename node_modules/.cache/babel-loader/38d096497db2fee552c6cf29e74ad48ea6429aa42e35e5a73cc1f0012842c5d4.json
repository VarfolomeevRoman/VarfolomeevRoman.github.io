{"ast":null,"code":"import _classCallCheck from\"/home/roman/Desktop/portfolio__bg/potrfolio-react (copy)/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/roman/Desktop/portfolio__bg/potrfolio-react (copy)/node_modules/@babel/runtime/helpers/esm/createClass.js\";export var Mesh=/*#__PURE__*/function(){function Mesh(_ref){var w=_ref.w,h=_ref.h;_classCallCheck(this,Mesh);this.maxDist=Math.hypot(w,h);this.stepX=this.maxDist*.1;this.stepY=this.stepX*Math.sqrt(3)/2;this.extraPoints=3;this.cols=(w/this.stepX|0)+this.extraPoints;this.rows=(h/this.stepY|0)+this.extraPoints;this.extraOffsetX=this.stepX/4;this.offsetX=(w-(this.cols-1)*this.stepX)/2;this.offsetY=(h-(this.rows-1)*this.stepY)/2;this.colorTimer=0;this.colorSpeed=30;this.colorPalet=160;this.createParticles();this.createTriangles();}_createClass(Mesh,[{key:\"createParticles\",value:function createParticles(){this.particles=[];for(var i=0;i<this.rows;i++){for(var j=0;j<this.cols;j++){var shiftX=i&1?-this.extraOffsetX:this.extraOffsetX;var x=j*this.stepX+this.offsetX+shiftX;var y=i*this.stepY+this.offsetY;var homeX=x;var homeY=y;var angle=Math.random()*Math.PI*2;var radius=Math.random()*this.extraOffsetX/2+this.extraOffsetX;var velocity=Math.random()*2-1;this.particles.push({x:x,y:y,homeX:homeX,homeY:homeY,angle:angle,radius:radius,velocity:velocity});}}}},{key:\"createTriangles\",value:function createTriangles(){this.triangles=[];for(var y=0;y<this.rows-1;y++){var vertices=[];for(var x=0;x<this.cols;x++){var a=x+this.cols*(y+1);var b=x+this.cols*y;if(y&1){var _ref2=[b,a];a=_ref2[0];b=_ref2[1];}vertices.push(this.particles[a],this.particles[b]);}for(var i=0;i<vertices.length-2;i++){var _a=vertices[i];var _b=vertices[i+1];var c=vertices[i+2];this.triangles.push({a:_a,b:_b,c:c});}}}},{key:\"updateParticles\",value:function updateParticles(){var correction=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;this.particles.forEach(function(p){p.angle+=p.velocity*correction;p.x=Math.cos(p.angle)*p.radius+p.homeX;p.y=Math.sin(p.angle)*p.radius+p.homeY;});}},{key:\"updateTriangles\",value:function updateTriangles(){var correction=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;this.colorTimer=(this.colorTimer+this.colorSpeed*correction)%360;}},{key:\"renderParticles\",value:function renderParticles(ctx){ctx.fillStyle=\"red\";var radius=5;this.particles.forEach(function(p){ctx.beginPath();ctx.arc(p.x,p.y,radius,0,Math.PI*2);ctx.fill();});}},{key:\"renderTriangles\",value:function renderTriangles(ctx){var _this=this;this.triangles.forEach(function(t){var a=t.a,b=t.b,c=t.c;var posX=(a.x+b.x+c.x)/3;var posY=(a.y+b.y+c.y)/3;var dist=Math.hypot(posX,posY);var hue=dist/_this.maxDist*_this.colorPalet-_this.colorTimer;ctx.strokeStyle=\"hsl(\".concat(hue,\", 70%, 70%)\");ctx.fillStyle=\"hsl(\".concat(hue,\", 85%, 50%)\");ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.lineTo(c.x,c.y);ctx.closePath();ctx.fill();ctx.stroke();});}}]);return Mesh;}();","map":{"version":3,"names":["Mesh","w","h","maxDist","Math","hypot","stepX","stepY","sqrt","extraPoints","cols","rows","extraOffsetX","offsetX","offsetY","colorTimer","colorSpeed","colorPalet","createParticles","createTriangles","particles","i","j","shiftX","x","y","homeX","homeY","angle","random","PI","radius","velocity","push","triangles","vertices","a","b","length","c","correction","forEach","p","cos","sin","ctx","fillStyle","beginPath","arc","fill","t","posX","posY","dist","hue","strokeStyle","moveTo","lineTo","closePath","stroke"],"sources":["/home/roman/Desktop/portfolio__bg/potrfolio-react (copy)/src/components/background/helpers/mesh.js"],"sourcesContent":["export class Mesh {\n  constructor( {w, h} ) {\n    this.maxDist = Math.hypot(w, h);\n    \n    this.stepX = this.maxDist * .1;\n    this.stepY = this.stepX * Math.sqrt(3) / 2;\n\n    this.extraPoints = 3;\n    this.cols = (w / this.stepX | 0) + this.extraPoints;\n    this.rows = (h / this.stepY | 0) + this.extraPoints;\n\n    this.extraOffsetX = this.stepX / 4;\n    this.offsetX = (w - (this.cols - 1) * this.stepX) / 2;\n    this.offsetY = (h - (this.rows - 1) * this.stepY) / 2;\n\n    this.colorTimer = 0;\n    this.colorSpeed = 30;\n    this.colorPalet = 160;\n\n    this.createParticles();\n    this.createTriangles();\n  }\n  createParticles() {\n    this.particles = [];\n    for (let i = 0 ; i < this.rows ; i++) {\n      for (let j = 0 ; j < this.cols ; j++) {\n        const shiftX = i & 1 ? -this.extraOffsetX : this.extraOffsetX;\n\n        const x = j * this.stepX + this.offsetX + shiftX;\n        const y = i * this.stepY + this.offsetY;\n        const homeX = x;\n        const homeY = y;\n\n        const angle = Math.random() * Math.PI * 2;\n        const radius = Math.random() * this.extraOffsetX / 2 + this.extraOffsetX;\n        const velocity = Math.random() * 2 - 1;\n\n        this.particles.push({x, y, homeX, homeY, angle, radius, velocity});\n      }\n    }\n  }\n  createTriangles() {\n    this.triangles = [];\n    for (let y = 0 ; y < this.rows - 1 ; y++) {\n      const vertices = [];\n      for (let x = 0 ; x < this.cols ; x++) {\n        let a = x + this.cols * (y + 1);\n        let b = x + this.cols * y;\n\n        if (y & 1) { [a, b] = [b, a] }\n\n        vertices.push(this.particles[a], this.particles[b]);\n      }\n      for (let i = 0 ; i < vertices.length - 2 ; i++) {\n        const a = vertices[i];\n        const b = vertices[i + 1];\n        const c = vertices[i + 2];\n\n        this.triangles.push( {a, b ,c} );\n      }\n    }\n  }\n  updateParticles(correction = 0) {\n    this.particles.forEach(p => {\n      p.angle += p.velocity * correction;\n\n      p.x = Math.cos(p.angle) * p.radius + p.homeX;\n      p.y = Math.sin(p.angle) * p.radius + p.homeY;\n    });\n  }\n  updateTriangles(correction = 0) {\n    this.colorTimer = (this.colorTimer + this.colorSpeed * correction) % 360;\n  }\n  renderParticles(ctx) {\n    ctx.fillStyle = `red`;\n    const radius = 5;\n    this.particles.forEach(p => {\n      ctx.beginPath();\n      ctx.arc(p.x, p.y, radius, 0, Math.PI * 2);\n      ctx.fill();\n    });\n  }\n  renderTriangles(ctx) {\n      this.triangles.forEach(t => {\n        const {a, b, c} = t;\n\n        const posX = (a.x + b.x + c.x) / 3;\n        const posY = (a.y + b.y + c.y) / 3;\n        const dist = Math.hypot(posX, posY);\n        \n        const hue = dist / this.maxDist * this.colorPalet - this.colorTimer;\n\n        ctx.strokeStyle = `hsl(${hue}, 70%, 70%)`\n        ctx.fillStyle = `hsl(${hue}, 85%, 50%)`;\n\n        ctx.beginPath();\n        ctx.moveTo(a.x, a.y);\n        ctx.lineTo(b.x, b.y);\n        ctx.lineTo(c.x, c.y);\n        ctx.closePath();\n\n        ctx.fill();\n        ctx.stroke();\n      });\n  }\n}\n"],"mappings":"0RAAA,UAAaA,KAAI,yBACf,mBAAsB,IAARC,EAAC,MAADA,CAAC,CAAEC,CAAC,MAADA,CAAC,4BAChB,IAAI,CAACC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAEC,CAAC,CAAC,CAE/B,IAAI,CAACI,KAAK,CAAG,IAAI,CAACH,OAAO,CAAG,EAAE,CAC9B,IAAI,CAACI,KAAK,CAAG,IAAI,CAACD,KAAK,CAAGF,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAAG,CAAC,CAE1C,IAAI,CAACC,WAAW,CAAG,CAAC,CACpB,IAAI,CAACC,IAAI,CAAG,CAACT,CAAC,CAAG,IAAI,CAACK,KAAK,CAAG,CAAC,EAAI,IAAI,CAACG,WAAW,CACnD,IAAI,CAACE,IAAI,CAAG,CAACT,CAAC,CAAG,IAAI,CAACK,KAAK,CAAG,CAAC,EAAI,IAAI,CAACE,WAAW,CAEnD,IAAI,CAACG,YAAY,CAAG,IAAI,CAACN,KAAK,CAAG,CAAC,CAClC,IAAI,CAACO,OAAO,CAAG,CAACZ,CAAC,CAAG,CAAC,IAAI,CAACS,IAAI,CAAG,CAAC,EAAI,IAAI,CAACJ,KAAK,EAAI,CAAC,CACrD,IAAI,CAACQ,OAAO,CAAG,CAACZ,CAAC,CAAG,CAAC,IAAI,CAACS,IAAI,CAAG,CAAC,EAAI,IAAI,CAACJ,KAAK,EAAI,CAAC,CAErD,IAAI,CAACQ,UAAU,CAAG,CAAC,CACnB,IAAI,CAACC,UAAU,CAAG,EAAE,CACpB,IAAI,CAACC,UAAU,CAAG,GAAG,CAErB,IAAI,CAACC,eAAe,EAAE,CACtB,IAAI,CAACC,eAAe,EAAE,CACxB,CAAC,gDACD,0BAAkB,CAChB,IAAI,CAACC,SAAS,CAAG,EAAE,CACnB,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAGA,CAAC,CAAG,IAAI,CAACV,IAAI,CAAGU,CAAC,EAAE,CAAE,CACpC,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAGA,CAAC,CAAG,IAAI,CAACZ,IAAI,CAAGY,CAAC,EAAE,CAAE,CACpC,GAAMC,OAAM,CAAGF,CAAC,CAAG,CAAC,CAAG,CAAC,IAAI,CAACT,YAAY,CAAG,IAAI,CAACA,YAAY,CAE7D,GAAMY,EAAC,CAAGF,CAAC,CAAG,IAAI,CAAChB,KAAK,CAAG,IAAI,CAACO,OAAO,CAAGU,MAAM,CAChD,GAAME,EAAC,CAAGJ,CAAC,CAAG,IAAI,CAACd,KAAK,CAAG,IAAI,CAACO,OAAO,CACvC,GAAMY,MAAK,CAAGF,CAAC,CACf,GAAMG,MAAK,CAAGF,CAAC,CAEf,GAAMG,MAAK,CAAGxB,IAAI,CAACyB,MAAM,EAAE,CAAGzB,IAAI,CAAC0B,EAAE,CAAG,CAAC,CACzC,GAAMC,OAAM,CAAG3B,IAAI,CAACyB,MAAM,EAAE,CAAG,IAAI,CAACjB,YAAY,CAAG,CAAC,CAAG,IAAI,CAACA,YAAY,CACxE,GAAMoB,SAAQ,CAAG5B,IAAI,CAACyB,MAAM,EAAE,CAAG,CAAC,CAAG,CAAC,CAEtC,IAAI,CAACT,SAAS,CAACa,IAAI,CAAC,CAACT,CAAC,CAADA,CAAC,CAAEC,CAAC,CAADA,CAAC,CAAEC,KAAK,CAALA,KAAK,CAAEC,KAAK,CAALA,KAAK,CAAEC,KAAK,CAALA,KAAK,CAAEG,MAAM,CAANA,MAAM,CAAEC,QAAQ,CAARA,QAAQ,CAAC,CAAC,CACpE,CACF,CACF,CAAC,+BACD,0BAAkB,CAChB,IAAI,CAACE,SAAS,CAAG,EAAE,CACnB,IAAK,GAAIT,EAAC,CAAG,CAAC,CAAGA,CAAC,CAAG,IAAI,CAACd,IAAI,CAAG,CAAC,CAAGc,CAAC,EAAE,CAAE,CACxC,GAAMU,SAAQ,CAAG,EAAE,CACnB,IAAK,GAAIX,EAAC,CAAG,CAAC,CAAGA,CAAC,CAAG,IAAI,CAACd,IAAI,CAAGc,CAAC,EAAE,CAAE,CACpC,GAAIY,EAAC,CAAGZ,CAAC,CAAG,IAAI,CAACd,IAAI,EAAIe,CAAC,CAAG,CAAC,CAAC,CAC/B,GAAIY,EAAC,CAAGb,CAAC,CAAG,IAAI,CAACd,IAAI,CAAGe,CAAC,CAEzB,GAAIA,CAAC,CAAG,CAAC,CAAE,WAAW,CAACY,CAAC,CAAED,CAAC,CAAC,CAAdA,CAAC,UAAEC,CAAC,UAAW,CAE7BF,QAAQ,CAACF,IAAI,CAAC,IAAI,CAACb,SAAS,CAACgB,CAAC,CAAC,CAAE,IAAI,CAAChB,SAAS,CAACiB,CAAC,CAAC,CAAC,CACrD,CACA,IAAK,GAAIhB,EAAC,CAAG,CAAC,CAAGA,CAAC,CAAGc,QAAQ,CAACG,MAAM,CAAG,CAAC,CAAGjB,CAAC,EAAE,CAAE,CAC9C,GAAMe,GAAC,CAAGD,QAAQ,CAACd,CAAC,CAAC,CACrB,GAAMgB,GAAC,CAAGF,QAAQ,CAACd,CAAC,CAAG,CAAC,CAAC,CACzB,GAAMkB,EAAC,CAAGJ,QAAQ,CAACd,CAAC,CAAG,CAAC,CAAC,CAEzB,IAAI,CAACa,SAAS,CAACD,IAAI,CAAE,CAACG,CAAC,CAADA,EAAC,CAAEC,CAAC,CAADA,EAAC,CAAEE,CAAC,CAADA,CAAC,CAAC,CAAE,CAClC,CACF,CACF,CAAC,+BACD,0BAAgC,IAAhBC,WAAU,2DAAG,CAAC,CAC5B,IAAI,CAACpB,SAAS,CAACqB,OAAO,CAAC,SAAAC,CAAC,CAAI,CAC1BA,CAAC,CAACd,KAAK,EAAIc,CAAC,CAACV,QAAQ,CAAGQ,UAAU,CAElCE,CAAC,CAAClB,CAAC,CAAGpB,IAAI,CAACuC,GAAG,CAACD,CAAC,CAACd,KAAK,CAAC,CAAGc,CAAC,CAACX,MAAM,CAAGW,CAAC,CAAChB,KAAK,CAC5CgB,CAAC,CAACjB,CAAC,CAAGrB,IAAI,CAACwC,GAAG,CAACF,CAAC,CAACd,KAAK,CAAC,CAAGc,CAAC,CAACX,MAAM,CAAGW,CAAC,CAACf,KAAK,CAC9C,CAAC,CAAC,CACJ,CAAC,+BACD,0BAAgC,IAAhBa,WAAU,2DAAG,CAAC,CAC5B,IAAI,CAACzB,UAAU,CAAG,CAAC,IAAI,CAACA,UAAU,CAAG,IAAI,CAACC,UAAU,CAAGwB,UAAU,EAAI,GAAG,CAC1E,CAAC,+BACD,yBAAgBK,GAAG,CAAE,CACnBA,GAAG,CAACC,SAAS,MAAQ,CACrB,GAAMf,OAAM,CAAG,CAAC,CAChB,IAAI,CAACX,SAAS,CAACqB,OAAO,CAAC,SAAAC,CAAC,CAAI,CAC1BG,GAAG,CAACE,SAAS,EAAE,CACfF,GAAG,CAACG,GAAG,CAACN,CAAC,CAAClB,CAAC,CAAEkB,CAAC,CAACjB,CAAC,CAAEM,MAAM,CAAE,CAAC,CAAE3B,IAAI,CAAC0B,EAAE,CAAG,CAAC,CAAC,CACzCe,GAAG,CAACI,IAAI,EAAE,CACZ,CAAC,CAAC,CACJ,CAAC,+BACD,yBAAgBJ,GAAG,CAAE,gBACjB,IAAI,CAACX,SAAS,CAACO,OAAO,CAAC,SAAAS,CAAC,CAAI,CAC1B,GAAOd,EAAC,CAAUc,CAAC,CAAZd,CAAC,CAAEC,CAAC,CAAOa,CAAC,CAATb,CAAC,CAAEE,CAAC,CAAIW,CAAC,CAANX,CAAC,CAEd,GAAMY,KAAI,CAAG,CAACf,CAAC,CAACZ,CAAC,CAAGa,CAAC,CAACb,CAAC,CAAGe,CAAC,CAACf,CAAC,EAAI,CAAC,CAClC,GAAM4B,KAAI,CAAG,CAAChB,CAAC,CAACX,CAAC,CAAGY,CAAC,CAACZ,CAAC,CAAGc,CAAC,CAACd,CAAC,EAAI,CAAC,CAClC,GAAM4B,KAAI,CAAGjD,IAAI,CAACC,KAAK,CAAC8C,IAAI,CAAEC,IAAI,CAAC,CAEnC,GAAME,IAAG,CAAGD,IAAI,CAAG,KAAI,CAAClD,OAAO,CAAG,KAAI,CAACc,UAAU,CAAG,KAAI,CAACF,UAAU,CAEnE8B,GAAG,CAACU,WAAW,eAAUD,GAAG,eAAa,CACzCT,GAAG,CAACC,SAAS,eAAUQ,GAAG,eAAa,CAEvCT,GAAG,CAACE,SAAS,EAAE,CACfF,GAAG,CAACW,MAAM,CAACpB,CAAC,CAACZ,CAAC,CAAEY,CAAC,CAACX,CAAC,CAAC,CACpBoB,GAAG,CAACY,MAAM,CAACpB,CAAC,CAACb,CAAC,CAAEa,CAAC,CAACZ,CAAC,CAAC,CACpBoB,GAAG,CAACY,MAAM,CAAClB,CAAC,CAACf,CAAC,CAAEe,CAAC,CAACd,CAAC,CAAC,CACpBoB,GAAG,CAACa,SAAS,EAAE,CAEfb,GAAG,CAACI,IAAI,EAAE,CACVJ,GAAG,CAACc,MAAM,EAAE,CACd,CAAC,CAAC,CACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}